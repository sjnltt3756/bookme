<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>도서 추천</title>
</head>
<body>
<h2>책 추천</h2>

<a th:href="@{/preference}">
    <button>선호 장르 설정</button>
</a>

<form th:action="@{/recommend}" method="get">
    <input type="text" name="query" placeholder="책 제목을 검색하세요" />
    <button type="submit">검색</button>
</form>

<div th:if="${books}">
    <ul>
        <li th:each="book : ${books}">
            <img th:if="${book.thumbnail}" th:src="${book.thumbnail}" alt="cover" />
            <p><strong th:text="${book.title}">제목</strong></p>
            <p th:text="${#lists.isEmpty(book.authors) ? '저자 없음' : #strings.listJoin(book.authors, ', ')}">저자</p>
        </li>
    </ul>
</div>
</body>
</html>