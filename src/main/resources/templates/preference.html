<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>선호 장르 설정</title>
</head>
<body>
<h2>선호하는 장르를 선택하세요</h2>

<form th:action="@{/preference}" method="post">
    <!-- groupedGenres: Map<String, List<GenreOption>> -->
    <div th:each="group : ${groupedGenres}">
        <h3 th:text="${group.key}">카테고리명</h3>
        <div th:each="genre : ${group.value}">
            <label>
                <!-- 체크박스가 선택된 장르에 대해 checked 속성 추가 -->
                <input type="checkbox" name="genres" th:value="${genre.keywordKo}"
                       th:checked="${selectedGenres.contains(genre.keywordKo)}" />
                <span th:text="${genre.nameKo}">장르명</span>
            </label><br/>
        </div>
        <hr/>
    </div>
    <button type="submit">저장</button>
</form>
</body>
</html>